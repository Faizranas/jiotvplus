(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t){var e="function"==typeof Map?new Map:void 0;return o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return i(t,arguments,a(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)},o(t)}function i(t,e,n){return i=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o},i.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var o,i,u,d,h,f=(o=p,i=s(),function(){var t,e=a(o);if(i){var r=a(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return n(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),c(r(t=f.call(this)),"_lastTimeStamp",0),c(r(t),"requestAnimation",void 0),c(r(t),"_autoScroll",(function(e){e&&(e-t._lastTimeStamp>=t._interval&&(t._lastTimeStamp=e,t._scrollDirection=1,t.moveTo(t._scrollDirection)),t.requestAnimation=requestAnimationFrame(t._autoScroll))})),c(r(t),"_stopAutoScroll",(function(){"auto"==t._scrollMode&&cancelAnimationFrame(t.requestAnimation)})),c(r(t),"_scrollDirection",null),c(r(t),"_clonedItems",0),c(r(t),"_contentArray",void 0),c(r(t),"_contentWidth",void 0),c(r(t),"_contentHeight",void 0),c(r(t),"_marginLeft",void 0),c(r(t),"_marginTop",void 0),c(r(t),"_marginRight",void 0),c(r(t),"_marginBottom",void 0),c(r(t),"_scrollPerClick",void 0),c(r(t),"_sliderWidth",void 0),c(r(t),"_sliderHeight",void 0),c(r(t),"_isNavLock",!1),c(r(t),"_initialScroll",0),c(r(t),"removeAllEventListeners",(function(){throw new Error("Method not implemented")})),c(r(t),"INVERT_TIMEOUT",490),c(r(t),"initCarousel",(function(){throw new Error("Method Not Implemented")})),c(r(t),"setProperties",(function(){var e,n;(t._contentArray=t.querySelectorAll(".jpl-carousel-item")||[],t._contentArray.length)&&(t._contentWidth=t._contentArray[0].offsetWidth,t._contentHeight=t._contentArray[0].offsetHeight,t._marginLeft=t._contentArray[0].offsetLeft,t._marginTop=t._contentArray[0].offsetTop,t._marginRight=null!==(e=t._contentArray[1])&&void 0!==e&&e.offsetLeft?t._contentArray[1].offsetLeft-(t._marginLeft+t._contentWidth)-t._marginLeft:0,t._marginBottom=null!==(n=t._contentArray[1])&&void 0!==n&&n.offsetTop?t._contentArray[1].offsetTop-(t._marginTop+t._contentHeight)-t._marginTop:0,t.setScrollPerClick(),t.setSliderWidthAndHeight(),"wrap"==t._mode&&(t.slider.style.transition="translate3d(0px, 0px, 0px)",t.slider.style.transitionDuration="400ms"),t._isVerticalCarousel||("standard"==t._mode&&t.sliderContainer.style.setProperty("overflow-x","auto"),"wrap"==t._mode&&t.sliderContainer.style.setProperty("overflow-x","hidden")))})),c(r(t),"addRemoveEventListenersOnArrows",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addEventListener";t.previousButton&&t.previousButton[e]("click",(function(e){t.onPrevButtonClick(e)})),t.nextButton&&t.nextButton[e]("click",(function(e){t.onNextButtonClick(e)})),t.upButton&&t.upButton[e]("click",(function(e){t.onUpButtonClick(e)})),t.downButton&&t.downButton[e]("click",(function(e){t.onDownButtonClick(e)}))})),c(r(t),"onPrevButtonClick",(function(t){})),c(r(t),"onNextButtonClick",(function(t){})),c(r(t),"onUpButtonClick",(function(t){})),c(r(t),"onDownButtonClick",(function(t){})),c(r(t),"removeAllEventListeners",(function(){throw new Error("Method not implemented")})),t}return u=p,d=[{key:"_slidesPerScroll",get:function(){return+this.getAttribute("slidesperscroll")||1}},{key:"_sliderWrapperId",get:function(){return this.getAttribute("sliderWrapperId")||null}},{key:"_withControls",get:function(){return this.getAttribute("withcontrols")||"auto"}},{key:"_mode",get:function(){return this.getAttribute("mode")||"standard"}},{key:"_type",get:function(){return this.getAttribute("type")||"cards"}},{key:"_scrollMode",get:function(){return this.getAttribute("scrollmode")||"manual"}},{key:"_interval",get:function(){return+this.getAttribute("interval")||2e3}},{key:"_onHoverStop",get:function(){return"false"!==this.getAttribute("onhoverstop")}},{key:"_isBrowser",get:function(){return"false"!==this.getAttribute("isbrowser")}},{key:"_isMobile",get:function(){return"true"===this.getAttribute("ismobile")}},{key:"_withIndicators",get:function(){return"true"==this.getAttribute("withindicators")}},{key:"_isCenteredMode",get:function(){return"true"==this.getAttribute("isCenteredMode")}},{key:"_dragOnDesktop",get:function(){return"true"==this.getAttribute("dragOnDesktop")}},{key:"_id",get:function(){return this.getAttribute("id")}},{key:"_isVerticalCarousel",get:function(){return this.classList.contains("jpl-v-carousel")}},{key:"previousButton",get:function(){return this.querySelector("#jpl-previous-".concat(this._sliderWrapperId))}},{key:"nextButton",get:function(){return this.querySelector("#jpl-next-".concat(this._sliderWrapperId))}},{key:"upButton",get:function(){return this.querySelector("#jpl-up")}},{key:"downButton",get:function(){return this.querySelector("#jpl-down")}},{key:"slider",get:function(){return this.querySelector(".jpl-slider")||this.querySelector(".jpl-v-slider")}},{key:"sliderContainer",get:function(){return this.querySelector(".jpl-slider-wrapper")||this.querySelector(".jpl-v-slider-wrapper")}},{key:"connectedCallback",value:function(){var t=this;setTimeout((function(){t.setProperties(),t._contentArray.length&&(t.addRemoveEventListenersOnArrows(),t.initCarousel())}),0)}},{key:"setScrollPerClick",value:function(){this._isVerticalCarousel?("cards"==this._type&&(this._scrollPerClick=(this._marginTop+this._marginBottom+this._contentHeight)*this._slidesPerScroll),"banner"==this._type&&(this._isCenteredMode?this._scrollPerClick=this._marginTop+this._marginBottom+this._contentHeight:this._scrollPerClick=this._contentArray[1].offsetTop)):("cards"==this._type&&(this._scrollPerClick=(this._marginLeft+this._marginRight+this._contentWidth)*this._slidesPerScroll),"banner"==this._type&&(this._isCenteredMode?this._scrollPerClick=this._marginLeft+this._marginRight+this._contentWidth:this._scrollPerClick=this._contentArray[1].offsetLeft))}},{key:"setSliderWidthAndHeight",value:function(){var t,e;this._isCenteredMode?(this._sliderWidth=(this._marginLeft+this._marginRight+this._contentWidth)*this._contentArray.length,this._sliderHeight=(this._marginTop+this._marginBottom+this._contentHeight)*this._contentArray.length):(this._sliderWidth=null!==(t=this._contentArray[1])&&void 0!==t&&t.offsetLeft?this._contentArray[1].offsetLeft*this._contentArray.length:0,this._sliderHeight=null!==(e=this._contentArray[1])&&void 0!==e&&e.offsetTop?this._contentArray[1].offsetTop*this._contentArray.length:0)}},{key:"getTranslateX",value:function(){var t=this.slider.style.transform,e=t.indexOf("("),n=t.indexOf("px");return Math.abs(+t.slice(e+1,n))}},{key:"getTranslateY",value:function(){var t=this.slider.style.transform,e=t.indexOf("("),n=t.indexOf("px");return Math.abs(+t.slice(e+1,n))}},{key:"transformCarousel",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.slider.style.transitionDuration=e?"400ms":"0ms";var n=this._isVerticalCarousel?"translate3d(0px, ".concat(t,", 0px)"):"translate3d(".concat(t,", 0px, 0px)");this.slider.style.transform=n}},{key:"hideArrows",value:function(t){switch(t){case"next":this.nextButton&&this.nextButton.style.setProperty("display","none");break;case"prev":this.previousButton&&this.previousButton.style.setProperty("display","none");break;case"up":this.upButton&&this.upButton.style.setProperty("display","none");break;case"bottom":this.downButton&&this.downButton.style.setProperty("display","none");break;case"all":this.nextButton&&this.nextButton.style.setProperty("display","none"),this.previousButton&&this.previousButton.style.setProperty("display","none"),this.upButton&&this.upButton.style.setProperty("display","none"),this.downButton&&this.downButton.style.setProperty("display","none")}}},{key:"showArrows",value:function(t){switch(t){case"next":this.nextButton&&this.nextButton.style.setProperty("display","block");break;case"prev":this.previousButton&&this.previousButton.style.setProperty("display","block");break;case"up":this.upButton&&this.upButton.style.setProperty("display","block");break;case"bottom":this.downButton&&this.downButton.style.setProperty("display","block");break;case"all":this.nextButton&&this.nextButton.style.setProperty("display","block"),this.previousButton&&this.previousButton.style.setProperty("display","block"),this.upButton&&this.upButton.style.setProperty("display","block"),this.downButton&&this.downButton.style.setProperty("display","block")}}},{key:"disconnectedCallback",value:function(){this.removeAllEventListeners(),this._stopAutoScroll()}}],d&&e(u.prototype,d),h&&e(u,h),Object.defineProperty(u,"prototype",{writable:!1}),p}(o(HTMLElement));function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(i,t);var e,n,r,o=y(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),b(m(t=o.call(this)),"initCarousel",(function(){t._isBrowser&&(t.checkIfDisplayArrows(),t.addRemoveSliderEventListeners(),"wrap"===t._mode&&(t.sliderContainer.scrollWidth>=t.sliderContainer.offsetWidth?(t.addCloneElements(),t.showArrows("all")):t.hideArrows("all")),"auto"===t._scrollMode&&t.scrollContinously(),t._withIndicators&&"banner"===t._type&&t.generateIndicators(),t._sliderWrapperId&&t.addIntersectionObserverToUpdateTabindex())})),b(m(t),"onPrevButtonClick",(function(e){t._isNavLock||(t._isNavLock=!0,t._scrollDirection=0,t.moveTo(t._scrollDirection),"standard"==t._mode&&t._withIndicators&&t.changeActiveItem(),"auto"===t._scrollMode&&t.scrollContinously())})),b(m(t),"onNextButtonClick",(function(e){t._isNavLock||(t._isNavLock=!0,t._scrollDirection=1,t.moveTo(t._scrollDirection),"standard"==t._mode&&t._withIndicators&&t.changeActiveItem(),"auto"===t._scrollMode&&t.scrollContinously())})),b(m(t),"onTranistionEnd",(function(e){"wrap"==t._mode&&t.checkIfInvert(t._scrollDirection,t.getTranslateX()),t._withIndicators&&t.changeActiveItem(null),t._isNavLock=!1,t._scrollDirection=null})),b(m(t),"onScroll",(function(e){t._isNavLock=!1,"auto"!=t._scrollMode&&t.checkIfDisplayArrows()})),b(m(t),"onMouseEnter",(function(e){"auto"===t._scrollMode&&t._onHoverStop&&t._stopAutoScroll()})),b(m(t),"onMouseLeave",(function(e){"auto"===t._scrollMode&&t._onHoverStop&&t.scrollContinously()})),b(m(t),"onMouseWheel",(function(t){t.deltaX&&t.preventDefault()})),b(m(t),"onTouchStart",(function(e){t._startX=e.touches[0].pageX,t._touchDrag=!0})),b(m(t),"onTouchMove",(function(e){t._touchDrag&&(t.currentX=e.touches[0].pageX,t.dragMove())})),b(m(t),"onTouchEndOrMouseUp",(function(e){t._touchDrag&&(t._touchDrag=!1,t.snapTo(t._scrollDirection,t.getTranslateX()),t._startX=t.currentX)})),b(m(t),"onTouchCancel",(function(t){})),b(m(t),"onMouseDown",(function(e){console.log("mouseDOWN"),t._startX=e.pageX,t._touchDrag=!0})),b(m(t),"onMouseMove",(function(e){console.log("mouse move"),t._touchDrag&&(t.currentX=e.pageX,t.dragMove())})),b(m(t),"onMouseUp",(function(t){console.log("mouse up")})),b(m(t),"dragMove",(function(){t.slider.style.transitionDuration="0ms",t._scrollDirection=t._startX-t.currentX>0?1:0;var e=0,n=t.getTranslateX(),r=Math.abs(t._startX-t.currentX);1==t._scrollDirection&&("wrap"==t._mode&&t.checkIfInvert(t._scrollDirection,e),e=Math.abs(n+r),t.transformCarousel("-".concat(e,"px"),!1)),0==t._scrollDirection&&(e=Math.abs(n-r),"wrap"==t._mode&&t.checkIfInvert(t._scrollDirection,e),e>=t._scrollPerClick&&t.transformCarousel("-".concat(e,"px"),!1)),t._startX=t.currentX})),b(m(t),"scrollContinously",(function(){t._lastTimeStamp=performance.now(),requestAnimationFrame(t._autoScroll)})),b(m(t),"stopContinousScroll",(function(){clearInterval(t._scrollInterval)})),b(m(t),"addCloneElements",(function(){if("cards"==t._type){t._clonedItems=t._contentArray.length;var e,n=0,r=0,o=h(t._contentArray);try{for(o.s();!(e=o.n()).done;){var i=e.value;if((n+=i.offsetLeft)+i.offsetWidth>t.sliderContainer.offsetWidth)break;r++}}catch(t){o.e(t)}finally{o.f()}for(var s=0;s<r;s++){var l=t._contentArray[s].cloneNode(!0);l.classList.add("clone"),t.slider.appendChild(l)}for(var a=t._contentArray.length;a>r;a--){var c=t._contentArray[a-1].cloneNode(!0);c.classList.add("clone"),t.slider.insertBefore(c,t.slider.children[0])}t.appendedNoOfItems=r,t._prependedNoOfItems=t._contentArray.length-r,t._initialScroll=t._scrollPerClick/t._slidesPerScroll*t._prependedNoOfItems+(t._scrollPerClick/t._slidesPerScroll-t._contentWidth)-1,t.transformCarousel("-".concat(t._initialScroll,"px"),!1)}if("banner"==t._type){t._prependedNoOfItems=2,t.appendedNoOfItems=2;var u=t._contentArray[0].cloneNode(!0);if(u.classList.add("clone"),t.slider.appendChild(u),(u=t._contentArray[1].cloneNode(!0)).classList.add("clone"),t.slider.appendChild(u),(u=t._contentArray[t._contentArray.length-1].cloneNode(!0)).classList.add("clone"),t.slider.insertBefore(u,t.slider.children[0]),(u=t._contentArray[t._contentArray.length-2].cloneNode(!0)).classList.add("clone"),t.slider.insertBefore(u,t.slider.children[0]),t._isCenteredMode){t.slider.setAttribute("class","jpl-slider");var d=Math.abs(t.sliderContainer.offsetWidth-t._scrollPerClick)/2;t._initialScroll=Math.abs(t._prependedNoOfItems*t._scrollPerClick-d),t.transformCarousel("-".concat(t._initialScroll,"px"),!1)}else t._initialScroll=Math.abs(t._prependedNoOfItems*t._scrollPerClick),t.transformCarousel("-".concat(t._initialScroll,"px"),!1)}})),b(m(t),"removeAllEventListeners",(function(){t.addRemoveEventListenersOnArrows("removeEventListener"),t.addRemoveSliderEventListeners("removeEventListener"),t._withIndicators&&t.addRemoveListenerToIndicator("removeEventListener")})),t}return e=i,n=[{key:"moveTo",value:function(t){if("wrap"==this._mode){var e=this.getTranslateX();0==t?e-=this._scrollPerClick:1==t&&(e+=this._scrollPerClick),this.transformCarousel("-".concat(e,"px"))}if("standard"==this._mode){var n=this.sliderContainer.scrollLeft;0==t?n-=this._scrollPerClick:1==t&&(n+=this._scrollPerClick),"auto"==this._scrollMode&&this.sliderContainer.scrollLeft+this.sliderContainer.offsetWidth>=this.sliderContainer.scrollWidth&&(n=0),this.sliderContainer.scrollTo({left:n,behavior:"smooth"})}}},{key:"checkIfInvert",value:function(t,e){return 1===t&&e>=this._sliderWidth?(this.transformCarousel("-".concat(Math.abs(e-this._sliderWidth),"px"),!1),!0):!(0!=t||!(Math.abs(e)<=this._scrollPerClick||this._isCenteredMode&&Math.abs(e-(this._marginLeft+this._marginRight))<=this._scrollPerClick)||(e=this._sliderWidth+e,this.transformCarousel("-".concat(Math.abs(e),"px"),!1),0))}},{key:"checkIfDisplayArrows",value:function(){this._isMobile&&this.hideArrows("all"),this._isMobile||"false"!=this._withControls||this.hideArrows("all"),this._isMobile||"true"!=this._withControls||this.showArrows("all"),this._isMobile||"standard"!==this._mode||(this.sliderContainer.scrollLeft+this.sliderContainer.offsetWidth<this.sliderContainer.scrollWidth?this.showArrows("next"):this.hideArrows("next"),0!==this.sliderContainer.scrollLeft?this.showArrows("prev"):this.hideArrows("prev"))}},{key:"addRemoveSliderEventListeners",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addEventListener";this.sliderContainer[e]("transitionend",(function(e){t.onTranistionEnd(e)})),this.sliderContainer[e]("scroll",(function(e){t.onScroll(e)})),this._isMobile||(this.sliderContainer[e]("mouseenter",(function(e){t.onMouseEnter(e)})),this.sliderContainer[e]("mouseleave",(function(e){t.onMouseLeave(e)})),this.sliderContainer[e]("mousewheel",(function(e){t.onMouseWheel(e)})),this._dragOnDesktop&&(this.sliderContainer[e]("mousedown",(function(e){t.onMouseDown(e)})),this.sliderContainer[e]("mousemove",(function(e){t.onMouseMove(e)})),this.sliderContainer[e]("mouseup",(function(e){t.onTouchEndOrMouseUp(e)})))),this._isMobile&&"wrap"==this._mode&&(this.slider[e]("touchstart",(function(e){t.onTouchStart(e)}),{passive:!0}),this.slider[e]("touchmove",(function(e){t.onTouchMove(e)}),{passive:!0}),this.slider[e]("touchend",(function(e){t.onTouchEndOrMouseUp(e)}),{passive:!0}),this.slider[e]("touchcancel",(function(e){t.onTouchCancel(e)}),{passive:!0}))}},{key:"snapTo",value:function(t,e){var n=this._contentWidth+this._marginLeft+this._marginRight,r=0;if(this._isCenteredMode&&"banner"==this._type&&(r=-(this.sliderContainer.offsetWidth-this._scrollPerClick)/2),1==t){var o=Math.ceil(e/n);this.transformCarousel("-".concat(o*n+r,"px"),!0)}if(0==t){var i=Math.floor(e/n);this.transformCarousel("-".concat(i*n+r,"px"),!0)}}},{key:"changeActiveItem",value:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.querySelectorAll(".jpl-indicator-list-item"),i=this.querySelector(".jpl-indicator-list-item.active"),s=+i.dataset.index,l=+i.dataset.index;if(r)n=r.target;else{if("wrap"==this._mode){var a=this.getTranslateX();l=Math.floor(a/this._scrollPerClick),a<this._initialScroll&&(l=this._contentArray.length-this._prependedNoOfItems+Math.floor(Math.abs(this._initialScroll-a)/this._scrollPerClick)),0==a&&(l=this._contentArray.length-this._prependedNoOfItems),a>this._initialScroll&&(l=(a-this._initialScroll)/this._scrollPerClick),a==this._initialScroll&&(l=0)}if("standard"==this._mode&&(1==this._scrollDirection&&(l=s+1),0==this._scrollDirection&&(l=s-1)),l>=o.length){if("wrap"!=this._mode)return null;l=0}if(-1==l){if("wrap"!=this._mode)return null;l=o.length-1}n=o[Math.floor(l)]}var c=+n.dataset.index;if(i.classList.remove("active"),i.setAttribute("aria-label",null===(t=i.getAttribute("aria-label"))||void 0===t||null===(e=t.split(" - "))||void 0===e?void 0:e[0]),n.classList.contains("small")){if(c>s&&(o[c-5]&&o[c-5].classList.add("small"),o[c-6]&&o[c-6].classList.add("hide","small"),o[c+1]&&o[c+1].classList.remove("hide")),c<s&&(o[c+5]&&o[c+5].classList.add("small"),o[c+6]&&o[c+6].classList.add("hide","small"),o[c-1]&&o[c-1].classList.remove("hide")),!r&&0===c&&s==o.length-1)for(var u=0;u<o.length;u++)0==u&&(o[u].classList.add("active"),o[u].setAttribute("aria-label","slide ".concat(c+1," of ").concat(null==o?void 0:o.length," - Currently selected"))),u<5&&(o[u].classList.remove("hide"),o[u].classList.remove("small")),5===u&&o[u].classList.add("small"),u>5&&(o[u].classList.add("hide"),o[u].classList.add("small"));if(!r&&c==o.length-1&&0==s)for(var d=0;d<o.length;d++)d==o.length-1&&(o[d].classList.add("active"),o[d].setAttribute("aria-label","slide ".concat(c+1," of ").concat(null==o?void 0:o.length," - Currently selected"))),d+5<o.length&&(o[d].classList.add("hide"),o[d].classList.add("small")),d+5===o.length&&o[d].classList.add("small"),d+5>o.length&&(o[d].classList.remove("hide"),o[d].classList.remove("small"));n.classList.remove("small")}if("banner"==this._type&&r){if("wrap"===this._mode){var h=2*this._scrollPerClick+c*this._scrollPerClick,f=this.getTranslateX();f||(h=this._scrollPerClick),this.transformCarousel("-".concat(h,"px"),!0),this.checkIfInvert(this._scrollDirection,h)}if("standard"===this._mode){var p=this._scrollPerClick*c;this.sliderContainer.scrollTo({left:p,behavior:"smooth"})}}n.classList.add("active"),n.setAttribute("aria-label","slide ".concat(c+1," of ").concat(null==o?void 0:o.length," - Currently selected"))}},{key:"generateIndicators",value:function(){var t=this;this._indicatorsContainer=this.querySelector(".jpl-indicators-wrapper");for(var e='<ul class="jpl-indicator-list">',n=0;n<this._contentArray.length;n++)e+=0==n?'<li><button class="jpl-indicator-list-item active" data-index="'.concat(n,'" aria-label="slide ').concat(n+1," of ").concat(this._contentArray.length,' - Currently selected" tabindex="0"></button></li>'):5==n?'<li><button class="jpl-indicator-list-item small" data-index="'.concat(n,'" aria-label="slide ').concat(n+1," of ").concat(this._contentArray.length,'" tabindex="0"></button></li>'):n>5?'<li><button class="jpl-indicator-list-item small hide" data-index="'.concat(n,'" aria-label="slide ').concat(n+1," of ").concat(this._contentArray.length,'" tabindex="0"></button></li>'):'<li><button class="jpl-indicator-list-item" data-index="'.concat(n,'" aria-label="slide ').concat(n+1," of ").concat(this._contentArray.length,'" tabindex="0"></button></li>');e+="</ul>",this._indicatorsContainer.innerHTML=e,setTimeout((function(){t.addRemoveListenerToIndicator()}),0)}},{key:"addRemoveListenerToIndicator",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addEventListener";this._withIndicators&&(this.querySelectorAll(".jpl-indicator-list-item").forEach((function(n){n[e]("click",(function(e){t.changeActiveItem(e)})),n[e]("keydown",(function(e){"Enter"===e.key&&t.changeActiveItem(e)}))})),this.querySelectorAll(".jpl-indicator-list-item-small").forEach((function(n){n[e]("click",(function(e){t.changeActiveItem(e)})),n[e]("keydown",(function(e){"Enter"===e.key&&t.changeActiveItem(e)}))})))}},{key:"handleEdgeMovement",value:function(){var t=this.getTranslateX();this.checkIfInvert(this._scrollDirection,t)}},{key:"debounce",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.INVERT_TIMEOUT;return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];clearTimeout(e),e=setTimeout((function(){t.apply(n,i)}),r)}}},{key:"addIntersectionObserverToUpdateTabindex",value:function(){var t=document.querySelectorAll("#".concat(this._sliderWrapperId," .jpl-carousel-item")),e=document.querySelector(this._sliderWrapperId),n=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?(t.target.setAttribute("tabindex","0"),t.target.setAttribute("aria-hidden","false")):(t.target.setAttribute("tabindex","-1"),t.target.setAttribute("aria-hidden","true"))}))}),{root:e,rootMargin:"0px",threshold:.1});t.forEach((function(t){n.observe(t)}))}},{key:"getItemById",value:function(t){return t?this._contentArray.find((function(e){return e.getAttribute("id")===t})):null}}],n&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(u);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},T(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(i,t);var e,n,r,o=I(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),B(S(t=o.call(this)),"initCarousel",(function(){t._isBrowser&&(t.checkIfDisplayArrows(),t.addRemoveSliderEventListeners(),"wrap"===t._mode&&(t.sliderContainer.scrollHeight>t.sliderContainer.offsetHeight?t.addCloneElements():t.hideArrows("all")),"auto"===t._scrollMode&&(t.hideArrows("all"),t.scrollContinously()),t._withIndicators&&"banner"===t._type&&t.generateIndicators())})),B(S(t),"onUpButtonClick",(function(){t.upButton.classList.add("no-click"),setTimeout((function(){t.upButton.classList.remove("no-click")}),t.INVERT_TIMEOUT),t._scrollDirection=0,t.moveTo(t._scrollDirection)})),B(S(t),"onDownButtonClick",(function(){t.downButton.classList.add("no-click"),setTimeout((function(){t.downButton.classList.remove("no-click")}),t.INVERT_TIMEOUT),t._scrollDirection=1,t.moveTo(t._scrollDirection)})),B(S(t),"scrollContinously",(function(){t._scrollInterval=setInterval((function(){t._scrollDirection=1,t.moveTo(t._scrollDirection),t._withIndicators&&t.changeActiveItem()}),t._interval)})),B(S(t),"stopContinousScroll",(function(){clearInterval(t._scrollInterval)})),B(S(t),"addCloneElements",(function(){if("cards"==t._type){t._clonedItems=t._contentArray.length;var e,n=0,r=0,o=k(t._contentArray);try{for(o.s();!(e=o.n()).done;){var i=e.value;if((n+=i.offsetTop)+i.offsetHeight>t.sliderContainer.offsetHeight)break;r++}}catch(t){o.e(t)}finally{o.f()}for(var s=0;s<r;s++){var l=t._contentArray[s].cloneNode(!0);l.classList.add("clone"),t.slider.appendChild(l)}for(var a=t._contentArray.length;a>r;a--){var c=t._contentArray[a-1].cloneNode(!0);c.classList.add("clone"),t.slider.insertBefore(c,t.slider.children[0])}t.transformCarousel("-".concat(t._scrollPerClick*(t._contentArray.length-r)+(t._scrollPerClick-t._contentHeight),"px"),!0)}if("banner"==t._type)if(t._clonedItems=2,t.slider.appendChild(t._contentArray[0].cloneNode(!0)),t.slider.appendChild(t._contentArray[1].cloneNode(!0)),t.slider.insertBefore(t._contentArray[t._contentArray.length-1].cloneNode(!0),t.slider.children[0]),t.slider.insertBefore(t._contentArray[t._contentArray.length-2].cloneNode(!0),t.slider.children[0]),t._isCenteredMode){var u=(t.sliderContainer.offsetHeight-t._scrollPerClick)/2;t.transformCarousel("-".concat(Math.abs(t._clonedItems*t._scrollPerClick-u),"px"),!0)}else t.transformCarousel("-".concat(Math.abs(t._clonedItems*t._scrollPerClick-1),"px"),!0)})),B(S(t),"removeAllEventListeners",(function(){t.addRemoveEventListenersOnArrows("removeEventListener"),t.addRemoveSliderEventListeners("removeEventListener"),t._withIndicators&&t.addRemoveListenerToIndicator("removeEventListener")})),t}return e=i,n=[{key:"moveTo",value:function(t){if("wrap"==this._mode){var e=this.getTranslateY();0==t?e-=this._scrollPerClick:1==t&&(e+=this._scrollPerClick),this.transformCarousel("-".concat(e,"px")),this.checkIfInvert(t,e)}if("standard"==this._mode){var n=this.sliderContainer.scrollTop;0==t?n-=this._scrollPerClick:1==t&&(n+=this._scrollPerClick),console.log(n),"auto"==this._scrollMode&&this.sliderContainer.scrollTop+this.sliderContainer.offsetHeight>=this.sliderContainer.scrollHeight&&(n=0),this.sliderContainer.scrollTo({top:n,behavior:"smooth"})}}},{key:"checkIfInvert",value:function(t,e){var n=this;1===t&&e>=this._sliderHeight&&setTimeout((function(){n.transformCarousel("-".concat(Math.abs(e-n._sliderHeight),"px"),!1)}),this.INVERT_TIMEOUT),0==t&&(Math.abs(e)<=this._scrollPerClick||this._isCenteredMode&&Math.abs(e-(this._marginTop+this._marginBottom))<=this._scrollPerClick)&&(e=this._sliderHeight+e,setTimeout((function(){n.transformCarousel("-".concat(Math.abs(e),"px"),!1)}),this.INVERT_TIMEOUT))}},{key:"checkIfDisplayArrows",value:function(){this._isMobile||"false"==this._withControls?this.hideArrows("all"):"true"==this._withControls?this.showArrows("all"):"wrap"==this._mode&&"auto"==this._scrollMode||"wrap"!=this._mode&&"auto"==this._scrollMode?this.hideArrows("all"):"wrap"==this._mode&&"auto"!=this._scrollMode?this.showArrows("all"):(this.sliderContainer.scrollTop+this.sliderContainer.offsetHeight>=this.sliderContainer.scrollHeight?this.hideArrows("bottom"):this.showArrows("bottom"),0==this.sliderContainer.scrollTop?this.hideArrows("up"):this.showArrows("up"))}},{key:"addRemoveSliderEventListeners",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addEventListener";this.sliderContainer[e]("scroll",(function(e){"wrap"==t._mode&&t._isMobile&&t.handleEdgeMovement(),"auto"!=t._scrollMode&&t.checkIfDisplayArrows()})),this.sliderContainer[e]("transitionend",(function(e){t.upButton.classList.remove("no-click"),t.downButton.classList.remove("no-click")})),this.sliderContainer[e]("mouseenter",(function(e){"auto"===t._scrollMode&&t._onHoverStop&&t.stopContinousScroll()})),this.sliderContainer[e]("mouseleave",(function(e){"auto"===t._scrollMode&&t._onHoverStop&&t.scrollContinously()})),this._isMobile||this.sliderContainer[e]("mousewheel",(function(t){t.deltaX&&t.preventDefault()})),this._isMobile&&(this.sliderContainer[e]("touchstart",(function(t){t.preventDefault()})),this.sliderContainer[e]("touchend",(function(e){var n=e.changedTouches[0].pageX<0?1:t._scrollDirection=e.changedTouches[0].pageX>0?0:"";isNaN(n)||(t._scrollDirection=n,t.handleEdgeMovement())}),{passive:!0}))}},{key:"changeActiveItem",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.querySelectorAll(".jpl-indicator-list-item"),r=this.querySelector(".jpl-indicator-list-item.active"),o=+r.dataset.index;if(e)t=e.target;else{var i=1==this._scrollDirection?o+1:o-1;if(i>=n.length){if("wrap"!=this._mode)return null;i=0}if(-1==i){if("wrap"!=this._mode)return null;i=n.length-1}t=n[i]}var s=+t.dataset.index;if(r.classList.remove("active"),t.classList.contains("small")){if(s>o&&(n[s-5]&&n[s-5].classList.add("small"),n[s-6]&&n[s-6].classList.add("hide","small"),n[s+1]&&n[s+1].classList.remove("hide")),s<o&&(n[s+5]&&n[s+5].classList.add("small"),n[s+6]&&n[s+6].classList.add("hide","small"),n[s-1]&&n[s-1].classList.remove("hide")),!e&&0===s&&o==n.length-1)for(var l=0;l<n.length;l++)0==l&&n[l].classList.add("active"),l<5&&(n[l].classList.remove("hide"),n[l].classList.remove("small")),5===l&&n[l].classList.add("small"),l>5&&(n[l].classList.add("hide"),n[l].classList.add("small"));if(!e&&s==n.length-1&&0==o)for(var a=0;a<n.length;a++)a==n.length-1&&n[a].classList.add("active"),a+5<n.length&&(n[a].classList.add("hide"),n[a].classList.add("small")),a+5===n.length&&n[a].classList.add("small"),a+5>n.length&&(n[a].classList.remove("hide"),n[a].classList.remove("small"));t.classList.remove("small")}if("banner"==this._type&&e){if("wrap"===this._mode){var c=2*this._scrollPerClick+s*this._scrollPerClick,u=this.getTranslateX();u||(c=this._scrollPerClick),this.transformCarousel("-".concat(c,"px"),!0),this.checkIfInvert(this._scrollDirection,c)}if("standard"===this._mode){var d=this._scrollPerClick*s;this.sliderContainer.scrollTo({left:d,behavior:"smooth"})}}t.classList.add("active")}},{key:"generateIndicators",value:function(){var t=this;this._indicatorsContainer=this.querySelector(".jpl-indicators-wrapper");for(var e='<ul class="jpl-indicator-list">',n=0;n<this._contentArray.length;n++)e+=0==n?'<li class="jpl-indicator-list-item active" data-index="'.concat(n,'"></li>'):5==n?'<li class="jpl-indicator-list-item small" data-index="'.concat(n,'"></li>'):n>5?'<li class="jpl-indicator-list-item small hide" data-index="'.concat(n,'"></li>'):'<li class="jpl-indicator-list-item" data-index="'.concat(n,'"></li>');e+="</ul>",this._indicatorsContainer.innerHTML=e,setTimeout((function(){t.addRemoveListenerToIndicator()}),0)}},{key:"addRemoveListenerToIndicator",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addEventListener";this._withIndicators&&(this.querySelectorAll(".jpl-indicator-list-item").forEach((function(n){n[e]("click",(function(e){t.changeActiveItem(e)}))})),this.querySelectorAll(".jpl-indicator-list-item-small").forEach((function(n){n[e]("click",(function(e){t.changeActiveItem(e)}))})))}},{key:"handleEdgeMovement",value:function(){this.moveTo(this._scrollDirection),this._withIndicators&&this.changeActiveItem()}},{key:"debounce",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.INVERT_TIMEOUT;return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];clearTimeout(e),e=setTimeout((function(){t.apply(n,i)}),r)}}},{key:"getItemById",value:function(t){return t?this._contentArray.find((function(e){return e.getAttribute("id")===t})):null}}],n&&L(e.prototype,n),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(u);window&&(window.customElements.define("jpl-v-carousel",x),window.customElements.define("jpl-carousel",w))})();